import{s as C}from"./spacex.eeae468c.js";import{d as y,R as x,j as f,_ as g,r as E,o,e as _,a as s,t as d,i as w,w as $,b as u,k as l,l as h,v,c as m,T as D,g as L,F as Y,m as b}from"./index.e05dc400.js";import{g as V,a as T}from"./dataConversion.f07caa7c.js";const B=y({components:{RouterLink:x},props:{historyEvent:{required:!0,type:Object}},setup(e){return{eventDate:f(()=>V(e.historyEvent.event_date_utc))}}});const N={class:"history__card"},I={class:"history__card--desc"},S={class:"history__card--date"},j={class:"history__card--title"};function F(e,a,c,n,i,p){const t=E("router-link");return o(),_("div",N,[s("p",I,[s("span",S,d(e.eventDate),1),s("span",j,d(e.historyEvent.title),1)]),s("span",null,[w(t,{class:"info__btn history__card--link",to:{name:"event",params:{id:e.historyEvent.id}}},{default:$(()=>[u("read more")]),_:1},8,["to"])])])}const H=g(B,[["render",F]]),R=y({components:{HistoryCard:H},setup(){let e=l([]);(async()=>{try{const t=await C.get("/v4/history");e.value=t.data}catch(t){console.error(t)}})();const c=T();let n=l(""),i=l(2008);return{searchedEvents:f(()=>e.value.length?e.value.filter(t=>{const r=t.title.toLowerCase().includes(n.value.toLowerCase())||t.details.toLowerCase().includes(n.value.toLowerCase()),k=parseInt(t.event_date_utc.split("-")[0])>=i.value;return r&&k}):[]),search:n,searchYear:i,maxYear:c}}});const U={class:"history"},q=s("h3",{class:"info__header"},"Dive in SpaceX history",-1),G={class:"info__filters text__center"},M=["max"],O={class:"info__paragraph text__center"};function X(e,a,c,n,i,p){const t=E("history-card");return o(),_("div",U,[q,s("div",G,[s("label",null,[u(" Enter phrase: "),h(s("input",{class:"info__input",type:"text","onUpdate:modelValue":a[0]||(a[0]=r=>e.search=r),placeholder:"search for..."},null,512),[[v,e.search]])]),s("label",null,[u(" Events from: "),h(s("input",{class:"info__input",type:"number",min:"2007",max:e.maxYear,"onUpdate:modelValue":a[1]||(a[1]=r=>e.searchYear=r)},null,8,M),[[v,e.searchYear]])])]),s("p",O,d(e.searchedEvents.length)+" results:",1),e.searchedEvents.length?(o(),m(D,{name:"list",key:"historyList",appear:"",mode:"out-in",tag:"div",class:"history__events"},{default:$(()=>[(o(!0),_(Y,null,b(e.searchedEvents,r=>(o(),m(t,{historyEvent:r,key:r.id},null,8,["historyEvent"]))),128))]),_:1})):L("",!0)])}const K=g(R,[["render",X]]);export{K as default};
